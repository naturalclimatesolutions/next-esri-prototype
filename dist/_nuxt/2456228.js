(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{176:function(e,t,r){var content=r(264);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(55).default)("56b15182",content,!0,{sourceMap:!1})},220:function(e,t,r){"use strict";r(263);var n=r(56),component=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("Nuxt")],1)}),[],!1,null,null,null);t.a=component.exports},225:function(e,t,r){r(226),e.exports=r(227)},263:function(e,t,r){"use strict";r(176)},264:function(e,t,r){var n=r(54)(!1);n.push([e.i,'html{font-family:"Source Sans Pro",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:16px;word-spacing:1px;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;box-sizing:border-box}*,:after,:before{box-sizing:border-box;margin:0}.button--green{display:inline-block;border-radius:4px;border:1px solid #3b8070;color:#3b8070;text-decoration:none;padding:10px 30px}.button--green:hover{color:#fff;background-color:#3b8070}.button--grey{display:inline-block;border-radius:4px;border:1px solid #35495e;color:#35495e;text-decoration:none;padding:10px 30px;margin-left:15px}.button--grey:hover{color:#fff;background-color:#35495e}',""]),e.exports=n},265:function(e,t,r){"use strict";r.r(t);r(5),r(6);var n=r(17),o=r(51),c=r(41);Object(c.loadCss)(),Object(c.loadScript)();t.default=function(){return new o.a.Store({state:{reforestationImageryLayer:void 0,map:void 0,view:void 0,rasterPixelValue:"NoData"},getters:{rasterPixelValue:function(e){return e.rasterPixelValue}},mutations:{},actions:{initMap:function(e){var t=this;e.dispatch("initRasterFunctions"),Object(c.loadModules)(["esri/Map","esri/views/MapView"]).then((function(r){var o=Object(n.a)(r,2),c=o[0],l=o[1];t.map=new c({basemap:"streets"}),e.state.view=new l({map:t.map,center:[-50.805,10.027],zoom:3,container:"mapDiv"}),e.state.view.when((function(t){e.state.view.on("click",(function(t){var r={x:t.mapPoint.longitude,y:t.mapPoint.latitude};e.dispatch("queryImageService",r)})),e.dispatch("addVectorLayers")}))})).catch((function(e){console.log("ERROR: "+e)}))},addImageryLayer:function(){var e=this;this.map.removeAll(),Object(c.loadModules)(["esri/layers/ImageryLayer"]).then((function(t){var r=Object(n.a)(t,1)[0];e.imageryLayer=new r({url:"https://cumulus.tnc.org/arcgis/rest/services/nascience/reforestation_potential_groa/ImageServer",format:"jpgpng",renderingRule:e.greenColorFunction}),e.map.add(e.imageryLayer)}))},addVectorLayers:function(){var e=this;Object(c.loadModules)(["esri/layers/FeatureLayer"]).then((function(t){var r=Object(n.a)(t,1)[0];e.map.removeAll();var o=new r({opacity:.7,url:"https://cumulus.tnc.org/arcgis/rest/services/nascience/NCS_Reforestation_potential_by_admin_unit/MapServer/0"}),c=new r({opacity:.7,url:"https://cumulus.tnc.org/arcgis/rest/services/nascience/NCS_Reforestation_potential_by_admin_unit/MapServer/1"}),l=new r({opacity:.7,url:"https://cumulus.tnc.org/arcgis/rest/services/nascience/NCS_Reforestation_potential_by_admin_unit/MapServer/2"});e.map.addMany([o,c,l])}))},changeImageryLayertoGreen:function(){this.imageryLayer.renderingRule=this.greenColorFunction},changeImageryLayertoTemp:function(){this.imageryLayer.renderingRule=this.tempColorFunction},remapImageryLayerValues:function(e){this.imageryLayer.renderingRule=this.mapColorToRemappedRaster},initRasterFunctions:function(){var e=this;Object(c.loadModules)(["esri/layers/support/RasterFunction"]).then((function(t){var r=Object(n.a)(t,1)[0];e.stretchFunction=new r({functionName:"Stretch",functionArguments:{StretchType:4,Min:0,Max:255,Raster:"$$"},outputPixelType:"u8"}),e.greenColorFunction=new r({functionName:"Colormap",functionArguments:{Raster:e.stretchFunction,colorramp:{type:"multipart",colorRamps:[{type:"algorithmic",fromColor:[220,245,233,255],toColor:[34,102,51,255],algorithm:"esriHSVAlgorithm"}]}}}),e.tempColorFunction=new r({functionName:"Colormap",functionArguments:{ColorrampName:"Temperature",raster:e.stretchFunction},outputPixelType:"U8"}),e.remapRasterValues=new r({functionName:"Remap",functionArguments:{InputRanges:[0,3,3.1,10],OutputValues:[1,2],Raster:"$$"},outputPixelType:"U8"}),e.mapColorToRemappedRaster=new r({functionName:"Colormap",functionArguments:{Colormap:[[1,255,0,0],[2,0,255,0]],Raster:e.remapRasterValues}})}))},queryImageService:function(e,t){console.log(t);var r=t.x,n=t.y,o="https://cumulus.tnc.org/arcgis/rest/services/nascience/reforestation_potential_groa/ImageServer/identify?geometry={x: ".concat(r,",y: ").concat(n,",spatialReference: { wkid: 4269 },}&geometryType=esriGeometryPoint&mosaicRule=&renderingRule=&renderingRules=&pixelSize=&time=&returnGeometry=false&returnCatalogItems=false&f=pjson");this.$axios.get(o,{}).then((function(t){console.log(t.data.value),e.state.rasterPixelValue=t.data.value})).catch((function(e){console.log(e),console.log(e.response)}))}}})}}},[[225,6,1,7]]]);